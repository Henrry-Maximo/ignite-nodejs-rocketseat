generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

enum Status {
  available // Ready for adoption / use
  adopted // Already adopted / finalized
  reserved // In reservation or adoption process
  unavailable // Temporarily unavailable
}

enum Age {
  puppy // 0–1 year
  young // 1–3 years
  adult // 3–7 years
}

enum Size {
  small
  medium
  large
}

enum Power {
  low // Calm / quiet
  moderate // Balanced energy
  high // Very active / energetic
}

enum Independence {
  low // Requires attention / dependent
  medium // Moderately independent
  high // Very independent
}

enum Ambience {
  small // Apartments, small areas
  medium // Small to medium houses
  large // Large houses, yards, farms
}

model Pet {
  id           String       @id @default(uuid())
  name         String
  description  String
  status       Status       @default(available)
  age          Age          @default(young) // Faixa etária
  size         Size         @default(medium) // Porte físico
  power        Power        @default(moderate) // Nível de energia
  independence Independence @default(medium) // Grau de independência
  ambience     Ambience     @default(medium) // Ambiente necessário
  path         String // Endereço da imagem
  requisites   String[] // Lista de requisitos para adoção (inserida pela ORG)
  created_at   DateTime     @default(now())

  // Relacionamento: Pet pertence a uma ORG
  org    Org    @relation(fields: [org_id], references: [id])
  org_id String

  @@map("pet_pets") // Nome da tabela no banco
}

model Org {
  id            String   @id @default(uuid())
  name          String
  password_hash String
  email         String   @unique
  postal_code   String
  address       String
  phone         String
  created_at    DateTime @default(now())

  pet Pet[]

  @@map("pet_orgs")
}
